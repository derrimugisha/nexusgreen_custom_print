<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="payslip_print" inherit_id="nexus_hr.nexus_hr_paslip_new">
        <xpath expr="//t" position="replace">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="web.basic_layout">
                        <div class="o_boxed_header">
                            <div class="row" style="border-bottom:1px solid black;">
                                <div class="col-4  mb-2 mt-0">
                                    <img t-if="o.company_id.logo"
                                        t-att-src="image_data_uri(o.company_id.logo)"
                                        style="max-height: 165px;float:left;" alt="Logo" />
                                    <br />
                                    <!-- <h6>EVERYTHING SOLAR</h6> -->
                                </div>
                                <div class="col-4 mb-2" />
                                <div class="col-4 mb-2" style="padding-top:20px;">
                                    <h2
                                        style="color:green !important; font-size: 60px; font-weight:bold;">
                                        PAYSLIP</h2>
                                </div>
                            </div>
                        </div>
                        <h2 t-field="o.name" />
                        <t t-set="is_invalid" t-value="o._is_invalid()" />
                        <t t-if="is_invalid">
                            <strong>
                                <t t-esc="is_invalid" />
                            </strong>
                        </t>
                        <table name="employee-infos" class="table table-sm table-bordered">
                            <thead>
                                <tr
                                    style="background-color: green !important; color: white !important;">
                                    <th colspan="3">EMPLOYEE NAME</th>
                                    <th colspan="3">DEPARTMENT</th>
                                    <th colspan="2">PAY MONTH</th>
                                    <th colspan="2">YEAR</th>
                                    <th colspan="2">PAY TYPE</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="line-height: 14px;">
                                    <td colspan="3" style="height: 30px">
                                        <t t-esc="o.employee_id.name" />
                                    </td>
                                    <td colspan="3" style="height: 30px">
                                        <t t-esc="o.employee_id.department_id.name" />
                                    </td>
                                    <td colspan="2" style="height: 30px">
                                    </td>
                                    <td colspan="2" style="height: 30px">
                                    </td>
                                    <td colspan="2" style="height: 30px">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table table-sm table-bordered">
                            <thead>
                                <tr
                                    style="background-color: green !important; color: white !important;">
                                    <th colspan="3">DESIGNATION</th>
                                    <th colspan="3">TIN</th>
                                    <th colspan="2">NSSF NUMBER</th>
                                    <th colspan="2">ACCOUNT NUMBER</th>
                                    <th colspan="2">BANK</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="line-height: 14px;">
                                    <td colspan="3" style="height: 30px">
                                        <t t-esc="o.employee_id.job_title" />
                                    </td>
                                    <td colspan="3" style="height: 30px">
                                        <t t-esc="o.employee_id.tin" />
                                    </td>
                                    <td colspan="2" style="height: 30px">
                                        <t t-esc="o.employee_id.nssf" />
                                    </td>
                                    <td colspan="2" style="height: 30px">
                                        <!-- <t t-esc="o.employee_id.bank_account_id"/> -->
                                    </td>
                                    <td colspan="2" style="height: 30px">
                                        <t t-esc="o.employee_id.bank_name" />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <table class="table table-sm o_main_table">
                            <thead>
                                <span t-foreach="o.worked_days_line_ids" t-as="worked_days">
                                    <t t-if="worked_days.code != 'OUT'">
                                        <th colspan="3">EARNINGS</th>
                                        <th colspan="3">DAYS WORKED</th>
                                        <th colspan="2">
                                            <span t-field="worked_days.number_of_days" />
                                        </th>
                                        <th colspan="2">test-heading1</th>
                                        <th colspan="2">test-heading2</th>
                                    </t>
                                </span>
                                <tr style="background-color: #d3d3d3  !important; ">

                                </tr>
                            </thead>
                            <tbody>
                                <t
                                    t-foreach="o.line_ids.filtered(lambda x: x.total &gt; 0 and x.code != 'NET')"
                                    t-as="line">
                                    <tr style="border:none; line-height:14px;">
                                        <td colspan="3">
                                            <span t-field="line.name" />
                                        </td>
                                        <td colspan="3">test1</td>
                                        <td colspan="2">test2</td>
                                        <td colspan="2">
                                            <span t-field="line.total" />
                                        </td>
                                        <td colspan="2">test3</td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                        <table class="table table-sm o_main_table">
                            <thead>
                                <tr style="background-color: #d3d3d3  !important;">
                                    <th colspan="3">DEDUCTIONS</th>
                                    <th colspan="3"> </th>
                                    <th colspan="2"> </th>
                                    <th colspan="2"> </th>
                                    <th colspan="2"> </th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="o.line_ids.filtered(lambda x: x.total &lt; 0)"
                                    t-as="ln">
                                    <tr style="border:none; !important;">
                                        <td colspan="3">
                                            <span t-field="ln.name" />
                                        </td>
                                        <td colspan="3" />
                                        <td colspan="2" />
                                        <td colspan="2">
                                            <span t-field="ln.total" />
                                        </td>
                                        <td colspan="2" />
                                    </tr>
                                </t>
                                <tr>
                                    <td colspan="3">
                                        <strong>TOTAL DEDUCTIONS</strong>
                                    </td>
                                    <td colspan="3" />
                                    <td colspan="2" />
                                    <td colspan="2">
                                        <strong>
                                            <span t-field="o.deductions" />
                                        </strong>
                                    </td>
                                    <td colspan="2">
                                    </td>
                                </tr>
                                <t
                                    t-foreach="o.line_ids.filtered(lambda x:  x.total &gt; 0 and x.code == 'NET')"
                                    t-as="net">
                                    <td colspan="3">
                                        <strong>NET PAY</strong>
                                    </td>
                                    <td colspan="3" />
                                    <td colspan="2" />
                                    <td colspan="2">
                                        <strong>
                                            <span t-field="net.total" />
                                        </strong>
                                    </td>
                                    <td colspan="2">
                                    </td>
                                </t>
                            </tbody>
                        </table>
                        <!-- <div id="total">
                            <table class="table table-sm o_main_table">
                                <thead class="o_black_border">
                                    <tr>
                                        <th>Name</th>
                                        <th>Number of Hours</th>
                                        <th>Number of Days</th>
                                        <th>Amount</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <span t-foreach="o.worked_days_line_ids" t-as="worked_days">
                                        <t t-if="worked_days.code != 'OUT'">
                                            <tr style="color:none">
                                                <td>
                                                    <span t-field="worked_days.name"/>
                                                </td>
                                                <td>
                                                    <span t-field="worked_days.number_of_hours"/>
                                                </td>
                                                <td>
                                                    <span t-field="worked_days.number_of_days"/>
                                                </td>
                                                <td>
                                                    <span t-esc="worked_days.amount" digits="[42, 2]"
                                                t-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                                                </td>
                                            </tr>
                                        </t>
                                    </span>
                                    <span t-foreach="o.line_ids.filtered(lambda line: line.appears_on_payslip)" t-as="line">
                                        <t t-set="line_style"/>
                                        <t t-set="line_class"/>
                                        <t t-if="line.code == 'NET'">
                                            <t t-set="line_style" t-value="'color:#875A7B;'"/>
                                            <t t-set="line_class" t-value="'o_total o_border_bottom'"/>
                                </t>
                                        <t t-if="(line.code == 'BASIC') or (line.code == 'GROSS')">
                                            <t t-set="line_style" t-value="'color:#00A09D;'"/>
                                            <t t-set="line_class" t-value="'o_subtotal o_border_bottom'"/>
                                </t>
                                        <tr t-att-class="line_class" t-att-style="line_style">
                                            <td>
                                                <t t-if="line.total != 0">
                                                    <span t-field="line.name"/>
                                                </t>
                                            </td>
                                            <td></td>
                                            <td>
                                                <t t-if="line.total != 0">
                                                    <span t-esc="line.quantity"/>
                                                </t>
                                            </td>
                                            <td>
                                                <t t-if="line.total != 0">
                                                    <span t-esc="line.total"
                                            t-options='{"widget": "monetary", "display_currency": o.company_id.currency_id}'/>
                                                </t>
                                            </td>
                                        </tr>
                                    </span>
                                </tbody>
                            </table>
                        </div> -->
                        <!-- <p t-if="o.net_wage &gt;= 0">Total to pay on
                            <span t-field="o.employee_id.bank_account_id"/>, bank account of
                            <span t-field="o.employee_id"/>:
                            <td>
                                <span t-field="o.net_wage"/>
                            </td>
                        </p> -->
                        <!-- <p t-if="o.net_wage &lt; 0">The net amount will be recovered from the
                        first positive remuneration established after this.</p>
                        <div class="row">
                            <div class="col-6">
                                <p>
                                    <strong>Contract Start Date:</strong>&amp;nbsp;&amp;nbsp;
                                    <span t-field="o.employee_id.first_contract_date"/>
                                </p>
                            </div>
                            <div class="col-6">
                                <p>
                                    <strong>Working Schedule:</strong>&amp;nbsp;&amp;nbsp;
                                    <span t-field="o.employee_id.contract_id.hours_per_week"/>
                                </p>
                            </div>
                        </div> -->
                        <table class="table table-sm o_main_table">
                            <tr>
                                <th>
                                    <span>
                                        <img t-if="o.create_uid"
                                            t-att-src="image_data_uri(o.create_uid.user_signature)"
                                            alt="Signature" style="width:50%;height:150px;" />
                                    </span>
                                </th>
                                <th
                                    style="font-weight:bold; text-align:center !important; margin: 0px auto; padding-top: 70px !important;">
                                    <span t-field="o.create_date" t-options="{'widget':'date'}" />
                                </th>
                            </tr>
                            <tr>
                                <td>
                                    <strong>HUMAN RESOURCE MANAGER</strong>
                                    <br />
                                    <strong>Callen Nsiime</strong>
                                </td>
                                <td>
                                    <strong>DATE</strong>
                                </td>
                            </tr>
                        </table>
                        <!-- <table> -->
                        <div class="row">
                            <div class="col-2">
                            </div>
                            <div class="col-8">
                                <p>
                                    <strong>If you have any questions about this payslip, please
                                    contact:</strong>
                                    <br /> [Callen Nsiime, +256(0) 775155678,
                                    callen.nsiime@nexusgreen.com] </p>
                            </div>
                            <div class="col-2">
                            </div>
                        </div>
                        <!-- <div class="row">
                            <div class="col-4">
                                <span>
                                    <img t-if="o.create_uid" t-att-src="image_data_uri(o.create_uid.user_signature)" alt="Signature"
                                         style="width:50%;height:150px;"/>
                                </span>
                            </div>
                            <div class="col-4">
                                <p>
                                    <span t-field="o.create_uid"/>
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <p style="font-size: 25px; font-weight: bold;">HUMAN RESOURCE MANAGER</p>
                            </div>
                            <div class="col-4">
                                <h5>DATE</h5>
                            </div>
                        </div> -->
                        <!-- <div class="row">
                            <p style="text-align: center;" class="text-center">
                                <strong>If you have any questions about this payslip, please contact:</strong>
                                <br/>
                        [Callen Nsiime, +256(0) 775155678, callen.nsiime@nexusgreen.com]
                            </p>
                        </div> -->
                        <!-- <div class="row">
                            <p style="text-align: center !important;" class="text-center;">
                                <strong>If you have any questions about this payslip, please contact:</strong>
                                <br/>
                        [Callen Nsiime, +256(0) 775155678, callen.nsiime@nexusgreen.com]
                            </p>
                        </div> -->
                        <!-- <div class="row">
                            <div class="col-4">
                                <p>Issued and Signed By</p>
                            </div>
                            <div class="col-4">
                                <p>
                                    <span t-field="o.create_uid"/>
                                </p>
                            </div>
                            <div class="col-4">
                                <span>
                                    <img t-if="o.create_uid" t-att-src="image_data_uri(o.create_uid.user_signature)" alt="Signature"
                                         style="width:50%;height:200px;"/>
                                </span>
                            </div>
                        </div> -->
                    </t>
                </t>
            </t>
        </xpath>
    </template>
</odoo>